(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(8414)}])},6414:function(e,n,t){"use strict";t.r(n);var a=t(5893),i=t(7294);let l={identity:{kernel:[[1]],size:1,normalize:!1},gaussian:{kernel:[[1,2,1],[2,4,2],[1,2,1]],size:3,normalize:!0},gaussian_5x5:{kernel:[[1,4,6,4,1],[4,16,24,16,4],[6,24,36,24,6],[4,16,24,16,4],[1,4,6,4,1]],size:5,normalize:!0},laplacian:{kernel:[[1,1,1],[1,-8,1],[1,1,1]],size:3,normalize:!1},laplacian_of_gaussian:{kernel:[[0,0,-1,0,0],[0,-1,-2,-1,0],[-1,-2,16,-2,-1],[0,-1,-2,-1,0],[0,0,-1,0,0]],size:5,normalize:!1}},r=e=>{let{onConvolutionsChange:n,setCustomConvolution:t}=e,[r,s]=(0,i.useState)(3),[o,c]=(0,i.useState)(3),[d,u]=(0,i.useState)(3),[h,g]=(0,i.useState)(3),[m,p]=(0,i.useState)(Array.from({length:o},()=>Array.from({length:r},()=>0))),[f,x]=(0,i.useState)(!1),[b,w]=(0,i.useState)(!0),[j,v]=(0,i.useState)("custom"),_=(e,n,t)=>{let a=[...m];a[e][n]=parseFloat(t),p(a)},y=()=>{n({kernel:m,normalize:b})},k=e=>{t(e.target.checked),x(e.target.checked)};return(0,i.useState)(()=>{console.log("!!! + end of useEffect for onConvolutionsChange:",m[0])},[m,b]),(0,i.useEffect)(()=>{let e=Array(o).fill(Array(r).fill(0)).map(e=>e.slice());p(e)},[d,h]),(0,a.jsxs)("div",{className:"convolutions",children:[(0,a.jsx)("h4",{children:"Convolutions"}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:f,onChange:k}),"Enable"]})}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:y,children:"Set Kernel"})}),(0,a.jsx)("h4",{children:"Kernel Display"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{children:["Width:",(0,a.jsx)("input",{className:"show-arrows",type:"number",min:"1",max:"10",value:r,onChange:e=>{let n=parseInt(e.target.value)||1,t=Math.min(Math.max(n,1),10);s(t),u(t)}})]}),(0,a.jsxs)("label",{children:["Height:",(0,a.jsx)("input",{className:"show-arrows",type:"number",min:"1",max:"10",value:o,onChange:e=>{let n=parseInt(e.target.value)||1,t=Math.min(Math.max(n,1),10);c(t),g(t)}})]})]}),(0,a.jsx)("table",{children:(0,a.jsx)("tbody",{children:m.map((e,n)=>(0,a.jsx)("tr",{children:e.map((e,t)=>(0,a.jsx)("td",{children:(0,a.jsx)("input",{type:"number",value:e,pattern:"\\d*",inputMode:"numeric",onChange:e=>{""!=e.target.value&&isNaN(e.target.value)?_(n,t,0):_(n,t,e.target.value)}})},t))},n))})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:b,onChange:e=>w(e.target.checked)}),"Normalize"]})}),(0,a.jsx)("h5",{children:"Pre-built Kernels"}),function(){let e=[];for(let[n,t]of Object.entries(l))e.push((0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",value:n,checked:j===n,onChange:function(e){t.normalize!=b&&w(t.normalize),t.width!=r&&s(t.size),t.height!=o&&c(t.size),p(t.kernel),v(n)}}),n]})},n));return e}()]})};n.default=r},2770:function(e,n,t){"use strict";t.r(n);var a=t(5893),i=t(7294);let l=e=>{let{title:n,children:t}=e,[l,r]=(0,i.useState)(!1),s=()=>{r(!l)};return(0,a.jsxs)("div",{className:"expandable-section",children:[(0,a.jsxs)("div",{className:"expandable-section-header",onClick:s,children:[(0,a.jsx)("div",{className:"triangle ".concat(l?"expanded":"")}),(0,a.jsx)("h3",{children:n})]}),l&&(0,a.jsx)("div",{className:"expandable-section-content",children:t})]})};n.default=l},9889:function(e,n,t){"use strict";t.r(n);var a=t(5893),i=t(7294);let l=e=>{let{onTransformationsChange:n}=e,[t,l]=(0,i.useState)({mirror:!1,flip:!1,rotate:0,scale:100,scalingMethod:"nearest"}),r=e=>{let{name:n,checked:a}=e.target;l({...t,[n]:a})},s=e=>{let{name:n,value:a}=e.target;l({...t,[n]:parseFloat(a)})},o=e=>{let{name:n,value:a}=e.target;l({...t,[n]:a})};return(0,i.useEffect)(()=>{n&&n(t)},[t,n]),(0,a.jsxs)("div",{className:"geometric-transformations",children:[(0,a.jsx)("h4",{children:"Geometric Spatial Transformations"}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",name:"mirror",checked:t.mirror,onChange:r}),"Mirror Image"]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",name:"flip",checked:t.flip,onChange:r}),"Flip upside down"]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:["Rotate",(0,a.jsx)("input",{type:"range",name:"rotate",min:"0",max:"360",value:t.rotate,onChange:s})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:["Scale Image",(0,a.jsx)("input",{type:"number",name:"scale",min:"1",max:"500",value:t.scale,onChange:s}),"%"]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",name:"scalingMethod",value:"nearest",checked:"nearest"===t.scalingMethod,onChange:o}),"Nearest neighbour"]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",name:"scalingMethod",value:"bilinear",checked:"bilinear"===t.scalingMethod,onChange:o}),"Bi-linear interpolation"]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",name:"scalingMethod",value:"bicubic",checked:"bicubic"===t.scalingMethod,onChange:o}),"Bicubic interpolation"]})})]})};n.default=l},1867:function(e,n,t){"use strict";t.r(n);var a=t(5893),i=t(7294);let l=e=>{let{onPaddingTypeChange:n}=e,[t,l]=(0,i.useState)("reflected"),r=e=>{l(e.target.value)};return(0,i.useEffect)(()=>{n&&n(t)},[t,n]),(0,a.jsxs)("div",{className:"padding",children:[(0,a.jsx)("h4",{children:"Padding"}),(0,a.jsxs)("div",{className:"padding-container",children:[(0,a.jsxs)("label",{className:"radio-label",children:[(0,a.jsx)("input",{type:"radio",value:"reflected",checked:"reflected"===t,onChange:r}),"Reflected indexing"]}),(0,a.jsxs)("label",{className:"radio-label",children:[(0,a.jsx)("input",{type:"radio",value:"circular",checked:"circular"===t,onChange:r}),"Circular indexing"]}),(0,a.jsxs)("label",{className:"radio-label",children:[(0,a.jsx)("input",{type:"radio",value:"zero",checked:"zero"===t,onChange:r}),"Zero padding"]})]})]})};n.default=l},2808:function(e,n,t){"use strict";t.r(n);var a=t(5893),i=t(7294);let l=e=>{let{onSinglePixelOperationsChange:n}=e,[t,l]=(0,i.useState)({inverse:!1,threshold:!1,thresholdValue:0,linearMapping:!1,linearA:1,linearB:0,powerLaw:!1,gamma:1,equalize:!1}),r=e=>{let{name:n,checked:a}=e.target;l({...t,[n]:a})},s=e=>{let{name:n,value:a}=e.target;l({...t,[n]:parseFloat(a)})};function o(e,n,t,i,l,r){return(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:e,name:n,checked:t,onChange:i}),void 0===l?n[0].toUpperCase()+n.slice(1):l]}),r]})}return(0,i.useEffect)(()=>{n&&n(t)},[t,n]),(0,a.jsxs)("div",{className:"single-pixel-operations",children:[(0,a.jsx)("h4",{children:"Single Pixel Operations"}),(0,a.jsx)("h5",{children:"Linear Mappings"}),o("checkbox","inverse",t.inverse,r),o("checkbox","threshold",t.threshold,r,"Threshold at u = ",(0,a.jsx)("input",{type:"number",name:"thresholdValue",value:t.thresholdValue,onChange:s,disabled:!t.threshold})),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",name:"linearMapping",checked:t.linearMapping,onChange:r}),"Linear mapping with a ="]}),(0,a.jsx)("input",{type:"number",name:"linearA",value:t.linearA,onChange:s,disabled:!t.linearMapping}),"and b =",(0,a.jsx)("input",{type:"number",name:"linearB",value:t.linearB,onChange:s,disabled:!t.linearMapping})]}),(0,a.jsx)("h5",{children:"Power Law Mapping"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",name:"powerLaw",checked:t.powerLaw,onChange:r}),"Gamma ="]}),(0,a.jsx)("input",{type:"number",name:"gamma",value:t.gamma,onChange:s,disabled:!t.powerLaw})]}),(0,a.jsx)("h5",{children:"Histogram Equalization"}),o("checkbox","equalize",t.equalize,r)]})};n.default=l},8414:function(e,n,t){"use strict";let a;t.r(n),t.d(n,{default:function(){return z}});var i=t(5893),l=t(7294);t(4494);let r=Array(128).fill(void 0);r.push(void 0,null,!0,!1);let s=0,o=null;function c(){return(null===o||0===o.byteLength)&&(o=new Uint8Array(a.memory.buffer)),o}let d=new TextEncoder("utf-8"),u="function"==typeof d.encodeInto?function(e,n){return d.encodeInto(e,n)}:function(e,n){let t=d.encode(e);return n.set(t),{read:e.length,written:t.length}},h=null;function g(){return(null===h||0===h.byteLength)&&(h=new Int32Array(a.memory.buffer)),h}let m=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});function p(e,n){return m.decode(c().subarray(e,e+n))}m.decode();let f=r.length;function x(e){f===r.length&&r.push(r.length+1);let n=f;return f=r[n],r[n]=e,n}function b(e){let n=r[e];return e<132||(r[e]=f,f=e),n}let w=128,j=null;function v(e,n){try{return e.apply(this,n)}catch(e){a.__wbindgen_exn_store(x(e))}}async function _(e,n){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,n)}catch(n){if("application/wasm"!=e.headers.get("Content-Type"))console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n);else throw n}let t=await e.arrayBuffer();return await WebAssembly.instantiate(t,n)}{let t=await WebAssembly.instantiate(e,n);return t instanceof WebAssembly.Instance?{instance:t,module:e}:t}}async function y(e){void 0===e&&(e=new t.U(t(5732)));let n=function(){let e={};return e.wbg={},e.wbg.__wbindgen_string_get=function(e,n){let t=r[n],i="string"==typeof t?t:void 0;var l=null==i?0:function(e,n,t){if(void 0===t){let t=d.encode(e),a=n(t.length);return c().subarray(a,a+t.length).set(t),s=t.length,a}let a=e.length,i=n(a),l=c(),r=0;for(;r<a;r++){let n=e.charCodeAt(r);if(n>127)break;l[i+r]=n}if(r!==a){0!==r&&(e=e.slice(r)),i=t(i,a,a=r+3*e.length);let n=c().subarray(i+r,i+a),l=u(e,n);r+=l.written}return s=r,i}(i,a.__wbindgen_malloc,a.__wbindgen_realloc),o=s;g()[e/4+1]=o,g()[e/4+0]=l},e.wbg.__wbindgen_string_new=function(e,n){let t=p(e,n);return x(t)},e.wbg.__wbindgen_object_drop_ref=function(e){b(e)},e.wbg.__wbg_data_ba126c289535c14a=function(e,n){let t=r[n].data,i=function(e,n){let t=n(1*e.length);return c().set(e,t/1),s=e.length,t}(t,a.__wbindgen_malloc),l=s;g()[e/4+1]=l,g()[e/4+0]=i},e.wbg.__wbg_newwithu8clampedarrayandsh_5983a7df9463fed0=function(){return v(function(e,n,t,i){let l=new ImageData(((null===j||0===j.byteLength)&&(j=new Uint8ClampedArray(a.memory.buffer)),j).subarray(e/1,e/1+n),t>>>0,i>>>0);return x(l)},arguments)},e.wbg.__wbg_getImageData_69bdab96ea46e1af=function(){return v(function(e,n,t,a,i){let l=r[e].getImageData(n,t,a,i);return x(l)},arguments)},e.wbg.__wbg_putImageData_3d6a58a9eb5f743c=function(){return v(function(e,n,t,a){r[e].putImageData(r[n],t,a)},arguments)},e.wbg.__wbg_get_27fe3dac1c4d0224=function(e,n){let t=r[e][n>>>0];return x(t)},e.wbg.__wbg_length_e498fbc24f9c1d4f=function(e){let n=r[e].length;return n},e.wbg.__wbindgen_throw=function(e,n){throw Error(p(e,n))},e}();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));let{instance:i,module:l}=await _(await e,n);return a=i.exports,y.__wbindgen_wasm_module=l,h=null,o=null,j=null,a}var k=t(2770),C=t(1867),N=t(9889),S=t(2808),M=t(6414),z=function(){let e=(0,l.useRef)(),n=(0,l.useRef)(),t=(0,l.useRef)(),s=(0,l.useRef)(),o=!1,c=(0,l.useRef)(),[d,u]=(0,l.useState)("reflected"),h=e=>{u(e),console.log(e)},[m,p]=(0,l.useState)({mirror:!1,flip:!1,rotate:0,scale:100,scalingMethod:"nearest"}),f=e=>{p(e),console.log(m)},[j,v]=(0,l.useState)({inverse:!1,threshold:!1,thresholdValue:0,linearMapping:!1,linearA:1,linearB:0,powerLaw:!1,gamma:1,equalize:!1}),_=e=>{v(e)},[z,A]=(0,l.useState)(!1),[D,L]=(0,l.useState)({kernel:[,,,].fill([,,,].fill(0)),normalize:!1}),I=e=>{L(e),console.log(z,e)},[E,R]=(0,l.useState)(!1),[P,F]=(0,l.useState)(!1),[T,O]=(0,l.useState)(!1),[q,B]=(0,l.useState)(!1),U=(0,l.useCallback)((e,n,t)=>{let i=[E?"convolutionDemo":null,P?"powerLawMappingDemo":null,j.inverse?"inverseDemo":null,q?"stackedDemo":null].filter(e=>null!==e);!function(e,n,t,i){try{let s=a.__wbindgen_add_to_stack_pointer(-16);a.draw(s,function(e){if(1==w)throw Error("out of js stack");return r[--w]=e,w}(e),n,t,x(i));var l=g()[s/4+0];if(g()[s/4+1])throw b(l)}finally{a.__wbindgen_add_to_stack_pointer(16),r[w++]=void 0}}(e,n,t,i)},[E,P,T,q,j]);function W(e){var n=new FileReader;let t=new Image;t.onload=()=>{console.log("JS --> "+t.width+" and "+t.height),canvas.width=t.width,canvas.height=t.height,canvas.getContext("2d").drawImage(t,0,0),c.current(canvas.getContext("2d"),canvas.width,canvas.height)},n.onload=function(e){t.src=e.target.result},n.readAsDataURL(e.target.files[0])}(0,l.useEffect)(()=>{c.current=U},[U]),(0,l.useEffect)(()=>{let a;let i=e.current,l=n.current,r=s.current,d=t.current;return async function(){function e(){i.width=l.videoWidth,i.height=l.videoHeight,i.getContext("2d").drawImage(l,0,0,i.width,i.height);let n=new Image;n.src=i.toDataURL(),i.getContext("2d").drawImage(n,0,0),c.current(i.getContext("2d"),640,640),o&&window.requestAnimationFrame(e)}await y(),r.onclick=function(){o?(a.getTracks()[0].stop(),o=!1,i.getContext("2d").clearRect(0,0,i.width,i.height)):(navigator.mediaDevices.getUserMedia({audio:!1,video:!0}).then(e=>{l.srcObject=e,a=e}).then(window.requestAnimationFrame(e)).catch(console.error),o=!0)},d.addEventListener("change",W,!1)}(),()=>{a&&a.getTracks().forEach(e=>e.stop())}},[]);let G=(0,i.jsxs)("div",{className:"options-column",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{className:"form-check-input",type:"checkbox",value:E,onChange:e=>R(e.target.checked),id:"convolutionDemo"}),(0,i.jsx)("label",{className:"form-check-label",htmlFor:"convolutionDemo",children:"Convolution Demo"})]}),(0,i.jsxs)("div",{className:"form-check",children:[(0,i.jsx)("input",{className:"form-check-input",type:"checkbox",value:P,onChange:e=>F(e.target.checked),id:"powerLawMappingDemo"}),(0,i.jsx)("label",{className:"form-check-label",htmlFor:"powerLawMappingDemo",children:"Power Law Mapping Demo"})]}),(0,i.jsxs)("div",{className:"form-check",children:[(0,i.jsx)("input",{className:"form-check-input",type:"checkbox",value:q,onChange:e=>B(e.target.checked),id:"stackedDemo"}),(0,i.jsx)("label",{className:"form-check-label",htmlFor:"stackedDemo",children:"Stacked Demo"})]}),(0,i.jsxs)("div",{className:"options-row",children:[(0,i.jsx)(k.default,{title:"Padding",children:(0,i.jsx)(C.default,{onPaddingTypeChange:h})}),(0,i.jsx)(k.default,{title:"Geometric Spatial Transformations",children:(0,i.jsx)(N.default,{onTransformationsChange:f})}),(0,i.jsx)(k.default,{title:"Single Pixel Operations",children:(0,i.jsx)(S.default,{onSinglePixelOperationsChange:_})}),(0,i.jsx)(k.default,{title:"Convolutions",children:(0,i.jsx)(M.default,{onConvolutionsChange:I,setCustomConvolution:A})})]})]});return(0,i.jsxs)("div",{className:"app-container",children:[(0,i.jsx)("h1",{children:(0,i.jsx)("img",{src:"/logo.png",width:"50%",height:"auto",alt:"IMGPROBOX"})}),(0,i.jsxs)("div",{className:"content",children:[(0,i.jsx)("div",{children:G}),(0,i.jsxs)("div",{className:"options-column",children:[(0,i.jsx)("div",{className:"options-row",children:(0,i.jsx)("canvas",{ref:e,id:"canvas",width:"640",height:"640",style:{width:"100%",height:"100%",objectFit:"contain"}})}),(0,i.jsx)("div",{className:"options-row"}),(0,i.jsxs)("div",{className:"options-row",children:[(0,i.jsx)("video",{ref:n,playsInline:!0,autoPlay:!0,muted:!0,style:{width:"100%"}}),(0,i.jsx)("button",{ref:s,className:"btn btn-primary mt-2",children:"Switch webcam"}),(0,i.jsx)("input",{type:"file",ref:t,id:"imageLoader",name:"imageLoader"})]})]})]})]})}},4494:function(){},5732:function(e,n,t){"use strict";e.exports=t.p+"static/media/without_a_bundler_bg.23c8d596.wasm"}},function(e){e.O(0,[501,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);