(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(8414)}])},6414:function(e,n,t){"use strict";t.r(n);var a=t(5893),i=t(7294);let r={identity:{kernel:[[1]],size:1,normalize:!1},gaussian:{kernel:[[1,2,1],[2,4,2],[1,2,1]],size:3,normalize:!0},gaussian_5x5:{kernel:[[1,4,6,4,1],[4,16,24,16,4],[6,24,36,24,6],[4,16,24,16,4],[1,4,6,4,1]],size:5,normalize:!0},laplacian:{kernel:[[1,1,1],[1,-8,1],[1,1,1]],size:3,normalize:!1},laplacian_of_gaussian:{kernel:[[0,0,-1,0,0],[0,-1,-2,-1,0],[-1,-2,16,-2,-1],[0,-1,-2,-1,0],[0,0,-1,0,0]],size:5,normalize:!1}},l=e=>{let{onConvolutionsChange:n,setCustomConvolution:t}=e,[l,s]=(0,i.useState)(3),[c,o]=(0,i.useState)(3),[d,u]=(0,i.useState)(3),[h,g]=(0,i.useState)(3),[p,b]=(0,i.useState)(Array.from({length:c},()=>Array.from({length:l},()=>0))),[f,m]=(0,i.useState)(!1),[x,j]=(0,i.useState)(!0),[w,_]=(0,i.useState)("custom"),v=(e,n,t)=>{let a=[...p];a[e][n]=parseFloat(t),b(a)},y=()=>{n({kernel:p,normalize:x})},C=e=>{t(e.target.checked),m(e.target.checked)};return(0,i.useState)(()=>{console.log("!!! + end of useEffect for onConvolutionsChange:",p[0])},[p,x]),(0,i.useEffect)(()=>{let e=Array(c).fill(Array(l).fill(0)).map(e=>e.slice());b(e)},[d,h]),(0,a.jsxs)("div",{className:"convolutions",children:[(0,a.jsx)("h4",{children:"Convolutions"}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:f,onChange:C}),"Enable"]})}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:y,children:"Set Kernel"})}),(0,a.jsx)("h4",{children:"Kernel Display"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{children:["Width:",(0,a.jsx)("input",{className:"show-arrows",type:"number",min:"1",max:"10",value:l,onChange:e=>{let n=parseInt(e.target.value)||1,t=Math.min(Math.max(n,1),10);s(t),u(t)}})]}),(0,a.jsxs)("label",{children:["Height:",(0,a.jsx)("input",{className:"show-arrows",type:"number",min:"1",max:"10",value:c,onChange:e=>{let n=parseInt(e.target.value)||1,t=Math.min(Math.max(n,1),10);o(t),g(t)}})]})]}),(0,a.jsx)("table",{children:(0,a.jsx)("tbody",{children:p.map((e,n)=>(0,a.jsx)("tr",{children:e.map((e,t)=>(0,a.jsx)("td",{children:(0,a.jsx)("input",{type:"number",value:e,pattern:"\\d*",inputMode:"numeric",onChange:e=>{""!=e.target.value&&isNaN(e.target.value)?v(n,t,0):v(n,t,e.target.value)}})},t))},n))})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",checked:x,onChange:e=>j(e.target.checked)}),"Normalize"]})}),(0,a.jsx)("h5",{children:"Pre-built Kernels"}),function(){let e=[];for(let[n,t]of Object.entries(r))e.push((0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",value:n,checked:w===n,onChange:function(e){t.normalize!=x&&j(t.normalize),t.width!=l&&s(t.size),t.height!=c&&o(t.size),b(t.kernel),_(n)}}),n]})},n));return e}()]})};n.default=l},2770:function(e,n,t){"use strict";t.r(n);var a=t(5893),i=t(7294);let r=e=>{let{title:n,children:t}=e,[r,l]=(0,i.useState)(!1),s=()=>{l(!r)};return(0,a.jsxs)("div",{className:"expandable-section",children:[(0,a.jsxs)("div",{className:"expandable-section-header",onClick:s,children:[(0,a.jsx)("div",{className:"triangle ".concat(r?"expanded":"")}),(0,a.jsx)("h3",{children:n})]}),r&&(0,a.jsx)("div",{className:"expandable-section-content",children:t})]})};n.default=r},9438:function(e,n,t){"use strict";t.r(n);var a=t(5893),i=t(7294);let r=e=>{let{onFilteringChange:n}=e,[t,r]=(0,i.useState)(0),[l,s]=(0,i.useState)(0),[c,o]=(0,i.useState)("none"),[d,u]=(0,i.useState)("chessboard"),[h,g]=(0,i.useState)(1);return(0,i.useEffect)(()=>{n&&n({salt:t,pepper:l,filterType:c,neighborhoodType:d,neighborhoodSize:h})},[t,l,c,d,h]),(0,a.jsxs)("div",{className:"filtering",children:[(0,a.jsx)("h4",{children:"Filtering"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{children:"Add Noise"}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"number",value:t,min:"0",max:"100",onChange:e=>{r(Math.max(0,Math.min(100,parseFloat(e.target.value))))}}),"% Salt"]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"number",value:l,min:"0",max:"100",onChange:e=>{s(Math.max(0,Math.min(100,parseFloat(e.target.value))))}}),"% Pepper"]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{children:"Filtering"}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",value:"max",checked:"none"===c,onChange:()=>{o("none")}}),"None"]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",value:"max",checked:"max"===c,onChange:()=>{o("max")}}),"Max"]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",value:"median",checked:"median"===c,onChange:()=>{o("median")}}),"Median"]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",value:"min",checked:"min"===c,onChange:()=>{o("min")}}),"Min"]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{children:"Neighbourhood Type"}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:["Neighbourhood size:",(0,a.jsx)("input",{type:"number",value:h,min:"1",onChange:e=>{g(Math.max(1,parseInt(e.target.value)))}})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",value:"chessboard",checked:"chessboard"===d,onChange:()=>{u("chessboard")}}),"d8 (Chessboard)"]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",value:"cityBlock",checked:"cityBlock"===d,onChange:()=>{u("cityBlock")}}),"d4 (City block)"]})})]})]})};n.default=r},9889:function(e,n,t){"use strict";t.r(n);var a=t(5893),i=t(7294);let r=e=>{let{onTransformationsChange:n}=e,[t,r]=(0,i.useState)({mirror:!1,flip:!1,rotate:0,scale:100,scalingMethod:"nearest",crop:!1}),l=e=>{let{name:n,checked:a}=e.target;r({...t,[n]:a})},s=e=>{let{name:n,value:a}=e.target;r({...t,[n]:parseFloat(a)})},c=e=>{let{name:n,value:a}=e.target;r({...t,[n]:a})};return(0,i.useEffect)(()=>{n&&n(t)},[t,n]),(0,a.jsxs)("div",{className:"geometric-transformations",children:[(0,a.jsx)("h4",{children:"Geometric Spatial Transformations"}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",name:"crop",checked:t.crop,onChange:l}),"Crop Image"]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",name:"mirror",checked:t.mirror,onChange:l}),"Mirror Image"]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",name:"flip",checked:t.flip,onChange:l}),"Flip upside down"]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:["Rotate",(0,a.jsx)("input",{type:"range",name:"rotate",min:"0",max:"360",value:t.rotate,onChange:s})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"number",name:"scale",min:"1",max:"500",value:t.scale,onChange:s}),"% Scale Image"]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",name:"scalingMethod",value:"nearest",checked:"nearest"===t.scalingMethod,onChange:c}),"Nearest neighbour"]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",name:"scalingMethod",value:"bilinear",checked:"bilinear"===t.scalingMethod,onChange:c}),"Bi-linear interpolation"]})})]})};n.default=r},1867:function(e,n,t){"use strict";t.r(n);var a=t(5893),i=t(7294);let r=e=>{let{onPaddingTypeChange:n}=e,[t,r]=(0,i.useState)("reflected"),l=e=>{r(e.target.value)};return(0,i.useEffect)(()=>{n&&n(t)},[t,n]),(0,a.jsxs)("div",{className:"padding",children:[(0,a.jsx)("h4",{children:"Padding"}),(0,a.jsxs)("div",{className:"padding-container",children:[(0,a.jsxs)("label",{className:"radio-label",children:[(0,a.jsx)("input",{type:"radio",value:"reflected",checked:"reflected"===t,onChange:l}),"Reflected indexing"]}),(0,a.jsxs)("label",{className:"radio-label",children:[(0,a.jsx)("input",{type:"radio",value:"circular",checked:"circular"===t,onChange:l}),"Circular indexing"]}),(0,a.jsxs)("label",{className:"radio-label",children:[(0,a.jsx)("input",{type:"radio",value:"zero",checked:"zero"===t,onChange:l}),"Zero padding"]})]})]})};n.default=r},2808:function(e,n,t){"use strict";t.r(n);var a=t(5893),i=t(7294);let r=e=>{let{onSinglePixelOperationsChange:n}=e,[t,r]=(0,i.useState)({inverse:!1,thresholdValue:128,linearMapping:!1,linearA:1,linearB:0,threshold:!1,powerLaw:!1,gamma:1,equalize:!1}),l=e=>{let{name:n,checked:a}=e.target;r({...t,[n]:a})},s=e=>{let{name:n,value:a}=e.target;r({...t,[n]:parseFloat(a)})};function c(e,n,t,i,r,l){return(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:e,name:n,checked:t,onChange:i}),void 0===r?n[0].toUpperCase()+n.slice(1):r]}),l]})}return(0,i.useEffect)(()=>{n&&n(t)},[t,n]),(0,a.jsxs)("div",{className:"single-pixel-operations",children:[(0,a.jsx)("h4",{children:"Single Pixel Operations"}),(0,a.jsx)("h5",{children:"Linear Mappings"}),c("checkbox","inverse",t.inverse,l),c("checkbox","sepia",t.sepia,l),c("checkbox","grayscale",t.grayscale,l),c("checkbox","threshold",t.threshold,l,"Threshold at u = ",(0,a.jsx)("input",{type:"number",name:"thresholdValue",value:t.thresholdValue,onChange:s,disabled:!t.threshold})),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",name:"linearMapping",checked:t.linearMapping,onChange:l}),"Linear mapping with a ="]}),(0,a.jsx)("input",{type:"number",name:"linearA",value:t.linearA,onChange:s,disabled:!t.linearMapping}),"and b =",(0,a.jsx)("input",{type:"number",name:"linearB",value:t.linearB,onChange:s,disabled:!t.linearMapping})]}),(0,a.jsx)("h5",{children:"Power Law Mapping"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"checkbox",name:"powerLaw",checked:t.powerLaw,onChange:l}),"Gamma ="]}),(0,a.jsx)("input",{type:"number",name:"gamma",value:t.gamma,onChange:s,disabled:!t.powerLaw})]}),(0,a.jsx)("h5",{children:"Histogram Equalization"}),c("checkbox","equalize",t.equalize,l)]})};n.default=r},8414:function(e,n,t){"use strict";let a;t.r(n),t.d(n,{default:function(){return L}});var i=t(5893),r=t(7294);t(4494);let l=Array(128).fill(void 0);l.push(void 0,null,!0,!1);let s=l.length;function c(e){let n=l[e];return e<132||(l[e]=s,s=e),n}let o=0,d=null;function u(){return(null===d||0===d.byteLength)&&(d=new Uint8Array(a.memory.buffer)),d}let h=new TextEncoder("utf-8"),g="function"==typeof h.encodeInto?function(e,n){return h.encodeInto(e,n)}:function(e,n){let t=h.encode(e);return n.set(t),{read:e.length,written:t.length}};function p(e,n,t){if(void 0===t){let t=h.encode(e),a=n(t.length);return u().subarray(a,a+t.length).set(t),o=t.length,a}let a=e.length,i=n(a),r=u(),l=0;for(;l<a;l++){let n=e.charCodeAt(l);if(n>127)break;r[i+l]=n}if(l!==a){0!==l&&(e=e.slice(l)),i=t(i,a,a=l+3*e.length);let n=u().subarray(i+l,i+a),r=g(e,n);l+=r.written}return o=l,i}let b=null;function f(){return(null===b||0===b.byteLength)&&(b=new Int32Array(a.memory.buffer)),b}let m=null,x=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});function j(e,n){return x.decode(u().subarray(e,e+n))}function w(e){s===l.length&&l.push(l.length+1);let n=s;return s=l[n],l[n]=e,n}x.decode();let _=128,v=null;function y(e,n){try{return e.apply(this,n)}catch(e){a.__wbindgen_exn_store(w(e))}}async function C(e,n){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,n)}catch(n){if("application/wasm"!=e.headers.get("Content-Type"))console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n);else throw n}let t=await e.arrayBuffer();return await WebAssembly.instantiate(t,n)}{let t=await WebAssembly.instantiate(e,n);return t instanceof WebAssembly.Instance?{instance:t,module:e}:t}}async function k(e){void 0===e&&(e=new t.U(t(5732)));let n=function(){let e={};return e.wbg={},e.wbg.__wbindgen_object_drop_ref=function(e){c(e)},e.wbg.__wbindgen_string_get=function(e,n){let t=l[n],i="string"==typeof t?t:void 0;var r=null==i?0:p(i,a.__wbindgen_malloc,a.__wbindgen_realloc),s=o;f()[e/4+1]=s,f()[e/4+0]=r},e.wbg.__wbindgen_number_get=function(e,n){let t=l[n],i="number"==typeof t?t:void 0;((null===m||0===m.byteLength)&&(m=new Float64Array(a.memory.buffer)),m)[e/8+1]=null==i?0:i,f()[e/4+0]=null!=i},e.wbg.__wbindgen_string_new=function(e,n){let t=j(e,n);return w(t)},e.wbg.__wbg_data_ba126c289535c14a=function(e,n){let t=l[n].data,i=function(e,n){let t=n(1*e.length);return u().set(e,t/1),o=e.length,t}(t,a.__wbindgen_malloc),r=o;f()[e/4+1]=r,f()[e/4+0]=i},e.wbg.__wbg_newwithu8clampedarrayandsh_5983a7df9463fed0=function(){return y(function(e,n,t,i){let r=new ImageData(((null===v||0===v.byteLength)&&(v=new Uint8ClampedArray(a.memory.buffer)),v).subarray(e/1,e/1+n),t>>>0,i>>>0);return w(r)},arguments)},e.wbg.__wbg_log_7bb108d119bafbc1=function(e){console.log(l[e])},e.wbg.__wbg_canvas_0629be400c80c8cd=function(e){let n=l[e].canvas;return null==n?0:w(n)},e.wbg.__wbg_getImageData_69bdab96ea46e1af=function(){return y(function(e,n,t,a,i){let r=l[e].getImageData(n,t,a,i);return w(r)},arguments)},e.wbg.__wbg_putImageData_3d6a58a9eb5f743c=function(){return y(function(e,n,t,a){l[e].putImageData(l[n],t,a)},arguments)},e.wbg.__wbg_setwidth_81c62bc806e0a727=function(e,n){l[e].width=n>>>0},e.wbg.__wbg_setheight_98cf0db22c40ef07=function(e,n){l[e].height=n>>>0},e.wbg.__wbg_get_27fe3dac1c4d0224=function(e,n){let t=l[e][n>>>0];return w(t)},e.wbg.__wbg_length_e498fbc24f9c1d4f=function(e){let n=l[e].length;return n},e.wbg.__wbg_isArray_39d28997bf6b96b4=function(e){let n=Array.isArray(l[e]);return n},e.wbg.__wbg_instanceof_Object_f5a826c4da0d4a94=function(e){let n;try{n=l[e]instanceof Object}catch{n=!1}let t=n;return t},e.wbg.__wbg_entries_4e1315b774245952=function(e){let n=Object.entries(l[e]);return w(n)},e.wbg.__wbindgen_debug_string=function(e,n){let t=function e(n){let t;let a=typeof n;if("number"==a||"boolean"==a||null==n)return`${n}`;if("string"==a)return`"${n}"`;if("symbol"==a){let e=n.description;return null==e?"Symbol":`Symbol(${e})`}if("function"==a){let e=n.name;return"string"==typeof e&&e.length>0?`Function(${e})`:"Function"}if(Array.isArray(n)){let t=n.length,a="[";t>0&&(a+=e(n[0]));for(let i=1;i<t;i++)a+=", "+e(n[i]);return a+"]"}let i=/\[object ([^\]]+)\]/.exec(toString.call(n));if(!(i.length>1))return toString.call(n);if("Object"==(t=i[1]))try{return"Object("+JSON.stringify(n)+")"}catch(e){return"Object"}return n instanceof Error?`${n.name}: ${n.message}
${n.stack}`:t}(l[n]),i=p(t,a.__wbindgen_malloc,a.__wbindgen_realloc),r=o;f()[e/4+1]=r,f()[e/4+0]=i},e.wbg.__wbindgen_throw=function(e,n){throw Error(j(e,n))},e}();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));let{instance:i,module:r}=await C(await e,n);return a=i.exports,k.__wbindgen_wasm_module=r,m=null,b=null,d=null,v=null,a}var S=t(2770),N=t(1867),M=t(9889),A=t(2808),z=t(6414),I=t(9438),E=t(3192),R=t(8565),O=t(6120),F=t.n(O);t(7929);var L=function(){let e=(0,r.useRef)(),n=(0,r.useRef)(),t=(0,r.useRef)(),s=(0,r.useRef)(),d=(0,r.useRef)(),u=(0,r.useRef)();(0,r.useRef)();let h=!1,g=(0,r.useRef)(),[b,m]=(0,r.useState)("image"),x=(0,r.useRef)(),[j,v]=(0,r.useState)("reflected"),y=e=>{v(e)},[C,O]=(0,r.useState)({mirror:!1,flip:!1,rotate:0,scale:100,scalingMethod:"nearest",crop:!1}),[L,T]=(0,r.useState)(),P=e=>{!C.crop&&e.crop&&console.log("NEW DCROP"),O(e)},[W,B]=(0,r.useState)({inverse:!1,threshold:!1,thresholdValue:0,linearMapping:!1,linearA:1,linearB:0,powerLaw:!1,gamma:1,equalize:!1}),q=e=>{B(e)},[D,U]=(0,r.useState)(!1),[$,K]=(0,r.useState)({kernel:[,,,].fill([,,,].fill(0)),normalize:!1}),V=e=>{K(e)},[H,Z]=(0,r.useState)({filterType:"none",neighborhoodSize:1,neighborhoodType:"chessboard",pepper:0,salt:0}),G=e=>{Z(e)},X=(0,r.useCallback)((e,n,t)=>{let i=[D?"convolutionDemo":null].filter(e=>null!==e),r=$.kernel;if($.normalize){let e=r.reduce((e,n)=>e+n.reduce((e,n)=>e+n,0),0);r=r.map(n=>n.map(n=>n/e))}let s=[];W.inverse&&s.push({op_type:"linear",a:-1,b:255}),W.sepia&&s.push({op_type:"sepia",a:0,b:0}),W.grayscale&&s.push({op_type:"grayscale",a:0,b:0}),W.threshold&&s.push({op_type:"threshold",a:W.thresholdValue,b:0}),W.linearMapping&&s.push({op_type:"linear",a:W.linearA,b:W.linearB}),W.powerLaw&&s.push({op_type:"powerLaw",a:W.gamma,b:0}),W.equalize&&s.push({op_type:"histogram_equalization",a:0,b:0});let d=C.crop&&L?[n*(L.x/100),t*(L.y/100),n*((L.x+L.width)/100),t*((L.y+L.height)/100)]:[];!function(e,n,t,i,r,s,d,u,h,g,b,m,x,j,v,y,C,k,S){try{let M=a.__wbindgen_add_to_stack_pointer(-16),A=p(m,a.__wbindgen_malloc,a.__wbindgen_realloc),z=o,I=p(v,a.__wbindgen_malloc,a.__wbindgen_realloc),E=o,R=p(C,a.__wbindgen_malloc,a.__wbindgen_realloc),O=o,F=p(k,a.__wbindgen_malloc,a.__wbindgen_realloc),L=o;a.draw(M,function(e){if(1==_)throw Error("out of js stack");return l[--_]=e,_}(e),n,t,w(i),w(r),w(s),d,u,h,g,w(b),A,z,x,j,I,E,y,R,O,F,L,S);var N=f()[M/4+0];if(f()[M/4+1])throw c(N)}finally{a.__wbindgen_add_to_stack_pointer(16),l[_++]=void 0}}(e,n,t,i,r,s,C.rotate,C.scale/100,C.mirror,C.flip,d,C.scalingMethod,H.salt/100,H.pepper/100,H.filterType,H.neighborhoodSize,H.neighborhoodType,j,parseInt(1e3*Math.random()))},[W,$,C,j,H,L,C.crop]);(0,r.useEffect)(()=>{x.current=X},[X]);let J=(0,r.useCallback)(()=>{if(!g.current)return;let e=t.current,a=e.getContext("2d");a.drawImage(g.current,0,0);let i=n.current;void 0!=i.getContext("2d").drawImage&&(i.width=e.width,i.height=e.height,i.getContext("2d").drawImage(e,0,0),x.current(i.getContext("2d"),i.width,i.height))},[t,n,x]);function Q(e){var n=new FileReader;let a=new Image;a.onload=()=>{let e=t.current;e.width=a.width,e.height=a.height,e.getContext("2d").drawImage(a,0,0),g.current=a,J()},n.onload=function(e){a.src=e.target.result},n.readAsDataURL(e.target.files[0])}return(0,r.useEffect)(()=>{C.crop&&L&&J()},[L,C.crop,J]),(0,r.useEffect)(()=>{J()},[W,$,C,J,j,H]),(0,r.useEffect)(()=>{let n;let t=e.current,a=s.current,i=u.current,r=d.current;return async function(){function e(){t.width=0===a.videoWidth?640:a.videoWidth,t.height=0===a.videoHeight?480:a.videoHeight,t.getContext("2d").drawImage(a,0,0,t.width,t.height),x.current(t.getContext("2d"),t.width,t.height),h&&window.requestAnimationFrame(e)}await k(),i.onclick=function(){h?(n.getTracks()[0].stop(),h=!1,t.getContext("2d").clearRect(0,0,t.width,t.height)):(navigator.mediaDevices.getUserMedia({audio:!1,video:!0}).then(e=>{a.srcObject=e,n=e}).then(window.requestAnimationFrame(e)).catch(console.error),h=!0)},r.addEventListener("change",Q,!1)}(),()=>{n&&n.getTracks().forEach(e=>e.stop())}},[]),(0,i.jsxs)("div",{className:"app-container",children:[(0,i.jsx)("h1",{children:(0,i.jsx)("img",{src:"./logo.png",width:"100%",height:"auto",alt:"IMGPROBOX"})}),(0,i.jsxs)("div",{className:"content",children:[(0,i.jsx)("div",{className:"options-column",children:(0,i.jsxs)("div",{className:"options-row",children:[(0,i.jsx)(S.default,{title:"Padding",children:(0,i.jsx)(N.default,{onPaddingTypeChange:y})}),(0,i.jsx)(S.default,{title:"Spatial Transformations",children:(0,i.jsx)(M.default,{onTransformationsChange:P})}),(0,i.jsx)(S.default,{title:"Single Pixel Operations",children:(0,i.jsx)(A.default,{onSinglePixelOperationsChange:q})}),(0,i.jsx)(S.default,{title:"Convolutions",children:(0,i.jsx)(z.default,{onConvolutionsChange:V,setCustomConvolution:U})}),(0,i.jsx)(S.default,{title:"Filtering",children:(0,i.jsx)(I.default,{onFilteringChange:G})})]})}),(0,i.jsx)("div",{className:"options-column",children:(0,i.jsx)("div",{className:"options-row",children:(0,i.jsxs)(R.Z,{defaultActiveKey:"image",id:"uncontrolled-tab-example",onSelect:e=>m(e),children:[(0,i.jsxs)(E.Z,{eventKey:"image",title:"Image",className:"coloredTab",children:[(0,i.jsxs)("div",{className:"image-column",children:[(0,i.jsx)("div",{children:(0,i.jsx)("input",{type:"file",ref:d,id:"imageLoader",name:"imageLoader",className:"webcam"===b?"hideMe":""})}),(0,i.jsx)("canvas",{ref:n,id:"canvasUpdate",width:"640",height:"640",style:{width:"100%",height:"100%",objectFit:"contain"}}),(0,i.jsx)(F(),{crop:L,onChange:(e,n)=>T(n),src:g.current?g.current.src:"",children:(0,i.jsx)("canvas",{ref:t,id:"canvas",width:"640",height:"640",style:{unit:"%",width:"100%",height:"100%",objectFit:"contain"}})}),(0,i.jsx)("video",{ref:s,playsInline:!0,autoPlay:!0,muted:!0,style:{width:"100%"},className:"webcam"===b?"":"hideMe"})]}),(0,i.jsx)("div",{children:(0,i.jsx)("button",{ref:u,className:"btn btn-primary mt-2 hideMe",children:"Switch webcam"})})]}),(0,i.jsx)(E.Z,{eventKey:"webcam",title:"Webcam",className:"coloredTab",children:(0,i.jsxs)("div",{className:"image-column",children:[(0,i.jsx)("div",{children:(0,i.jsx)("button",{ref:u,className:"btn btn-primary mt-2",children:"Switch Webcam On/Off"})}),(0,i.jsx)("div",{}),(0,i.jsx)("canvas",{ref:e,id:"canvas",width:"640",height:"640",style:{width:"100%",height:"100%",objectFit:"contain"}}),(0,i.jsx)("video",{ref:s,playsInline:!0,autoPlay:!0,muted:!0,style:{width:"100%"}})]})})]})})})]}),(0,i.jsx)("link",{rel:"shortcut icon",type:"image/x-icon",href:"https://wiwichips.github.io/imgprobox/favicon.ico"})]})}},5732:function(e,n,t){"use strict";e.exports=t.p+"static/media/without_a_bundler_bg.a79dac54.wasm"}},function(e){e.O(0,[501,314,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);